import{R as h,j as r,r as c,C as j}from"./main-Bmx4fN6B.js";import{r as m}from"./index-_PT_YM1i.js";const L="_footer_box_004bcbb",b={footer_box:L},v=m.WidthProvider(m.Responsive);class P extends h.Component{render(){return r.jsx("div",{className:"core_wrapper",children:r.jsxs(v,{className:"layout",layouts:this.props.layouts,rowHeight:this.props.rowHeight,breakpoints:{lg:992,md:768,sm:576,xs:480,xxs:0},cols:{lg:12,md:12,sm:6,xs:6,xxs:6},isResizable:!1,isDraggable:!1,margin:[15,15],useCSSTransforms:!1,compactType:"vertical",children:[console.log(this.props.breakpoints),this.props.dataPics.map(s=>r.jsx("div",{className:"card--img",children:r.jsx("img",{src:s.url,alt:"Pic"})},s.id))]})})}}const E=()=>{const[n,s]=h.useState(()=>window.screen.width);return h.useLayoutEffect(()=>{const o=()=>{s(window.screen.width)};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[n]),{screenWidth:n,rowHeight:(o=>o<=480?30:63)(n)}},S=({searchTerm:n})=>{const[s,u]=c.useState([]),[o,w]=c.useState({}),{screenWidth:y,rowHeight:d}=E();return c.useEffect(()=>{(async()=>{const l="tjz5KRnEe72zmhz3LUh1FRHZtn8rPcV2gyxP6vW8S1U";try{const g=(await(await fetch(`https://api.unsplash.com/search/photos?query=${n}&page=1&client_id=${l}`,{accept:"application/json"})).json()).results.reduce((e,t,f)=>{if(f<9){let a={id:t.id,width:t.width,height:t.height,url:t.urls.small};t.width<t.height?a={...a,orientation:"por"}:a={...a,orientation:"lan"},e.push(a)}return e},[]);u(g)}catch(i){console.log(i)}})()},[n]),c.useEffect(()=>{const p=()=>s.map((e,t)=>({x:(t+3)%3*4,y:0,w:4,h:e.orientation==="lan"?3:5,i:e.id})),l=()=>s.map((e,t)=>({x:(t+3)%3*4,y:0,w:4,h:e.orientation==="lan"?3:5,i:e.id})),i=()=>s.map((e,t)=>({x:(t+2)%2*3,y:0,w:3,h:e.orientation==="lan"?3:5,i:e.id})),x=()=>s.map((e,t)=>({x:(t+2)%2*3,y:0,w:3,h:e.orientation==="lan"?3:5,i:e.id}));w({xxs:s.map((e,t)=>({x:(t+2)%2*3,y:0,w:3,h:e.orientation==="lan"?3:5,i:e.id})),xs:x(),sm:i(),md:l(),lg:p()})},[s]),r.jsxs(r.Fragment,{children:[console.log(y),console.log(d),r.jsx(P,{dataPics:s,layouts:o,rowHeight:d})]})};function _(){return r.jsxs(r.Fragment,{children:[r.jsx(j,{children:r.jsx(S,{searchTerm:"costa rica"})}),r.jsx("footer",{className:`${b.footer_box}`,children:"Footer"})]})}export{_ as component};
